<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Minky</title>
  <!-- Load Orbitron for futuristic font -->
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: 'Orbitron', sans-serif;
      font-weight: 500;
      background: radial-gradient(circle at center, #0f0f0f, #000000 90%);
      color: white;
      overflow-x: hidden;
      min-height: 100vh;
      position: relative;
    }
    h1 {
      font-family: 'Orbitron', sans-serif;
      font-weight: 700;
      font-size: 2.5rem;
      margin-bottom: 10px;
      text-shadow: 0 0 5px #fff, 0 0 10px #fff;
    }
    p {
      color: #aaa;
      margin-bottom: 40px;
      font-size: 1rem;
    }
    .container {
      text-align: center;
      padding: 80px 20px;
      animation: fadeIn 1.5s ease;
    }
    .link-list {
      display: flex;
      flex-direction: column;
      gap: 12px;
      align-items: center;
    }
    .link-list a {
      text-decoration: none;
      color: white;
      background: #222;
      padding: 14px;
      border: 1px solid #333;
      border-radius: 10px;
      transition: 0.3s;
      font-weight: 500;
      width: 260px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }
    .link-list a:hover {
      background-color: #fff;
      color: black;
    }
    /* === Discord Button (Original Style) === */
    .discord-special:hover {
      background-color: #5865F2 !important;
      color: white !important;
    }
    .discord-special:hover .discord-icon {
      filter: brightness(0) invert(1);
    }
    .discord-icon {
      width: 22px;
      height: 22px;
      transition: 0.3s;
    }
    /* === Icon Styling === */
    .icon {
      width: 18px;
      height: 18px;
      transition: 0.3s;
      filter: brightness(1); /* White by default */
    }
    .link-list a:hover .icon {
      filter: brightness(0); /* Turns black on hover */
    }
    footer {
      margin-top: 50px;
      font-size: 0.8rem;
      color: #555;
    }

    /* === BUTTON ROW === */
    .button-row {
      position: fixed;
      top: 20px;
      right: 20px;
      display: flex;
      gap: 10px;
      z-index: 1000;
    }
    .report-button, .fast-mode-button {
      background: #222;
      color: white;
      border: 1px solid #333;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      font-size: 24px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: 0.3s;
    }
    .report-button:hover, .fast-mode-button:hover {
      background: white;
      color: black;
    }
    .button-label {
      font-size: 0.7rem;
      position: absolute;
      top: 60px;
      text-align: center;
      width: 60px;
      color: #aaa;
    }

    /* === CHECKMARK ON FAST MODE === */
    .fast-mode-button.active::after {
      content: "✓";
      font-size: 14px;
      position: absolute;
      top: 3px;
      right: 3px;
      color: #0f0;
    }

    /* === DISCORD MEMBER COUNTER === */
    .discord-counter {
      position: fixed;
      top: 20px;
      left: 20px;
      color: white;
      font-family: 'Orbitron', sans-serif;
      font-size: 0.9rem;
      text-align: center;
      z-index: 100;
      background: rgba(0, 0, 0, 0.4);
      padding: 10px;
      border-radius: 10px;
      border: 1px solid #333;
      box-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
      min-width: 160px;
    }
    .member-count {
      font-size: 1.4rem;
      font-weight: 600;
      margin-top: 4px;
      letter-spacing: 1px;
    }

    /* === NO HOVER ANIMATION IN FAST MODE === */
    .no-hover-anim .link-list a {
      transition: none !important;
    }

    /* === SNOWFLAKES === */
    .snowflake {
      position: fixed;
      top: -10%;
      z-index: 0;
      pointer-events: none;
      user-select: none;
      animation: fall linear infinite;
      opacity: 0.7;
      filter: blur(0.5px);
      color: white;
      font-size: 1.2rem;
      line-height: 1;
    }
    @keyframes fall {
      0% {
        transform: translateY(-10%) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 0.7;
      }
      100% {
        transform: translateY(100vh) rotate(360deg);
        opacity: 0;
      }
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body class="">
<!-- Live Discord Member Counter -->
<div class="discord-counter">
  <div>Server Current Members:</div>
  <div class="member-count" id="memberCount">—</div>
</div>

<!-- Button Row -->
<div class="button-row">
  <!-- Fast Mode Button -->
  <div id="fastModeBtn" class="fast-mode-button">
    ⚡<div class="button-label">Fast Mode</div>
  </div>
  <!-- Report Button -->
  <div class="report-button" onclick="toggleReport()">
    🛠<div class="button-label">Report</div>
  </div>
</div>

<div class="report-ui-overlay" onclick="closeReportUI()"></div>
<div class="container">
  <h1>Minky</h1>
  <p>Best Beaming Sites/Methods/Tools/Tutorials 👾<br>Join Our Discord For The Full Beaming Experience 👾</p>
  <div class="link-list">
    <!-- Main Generator Site - Moon Icon -->
    <a href="https://www.logged.tg/auth/minkybeams" target="_blank">
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
      </svg>
      Main Generator Site
    </a>
    <!-- Immortal (Generator 2) - Plus Icon -->
    <a href="https://roblox.tg/dashboard" target="_blank">
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="12" y1="5" x2="12" y2="19"></line>
        <line x1="5" y1="12" x2="19" y2="12"></line>
      </svg>
      Immortal (Generator 2)
    </a>
    <!-- Autohar - Lightning Icon -->
    <a href="https://is.gd/bhAW9Q" target="_blank">
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M13 2L3 14h9l-1 10 10-12h-9l1-10z"></path>
      </svg>
      Autohar
    </a>
    <!-- Cookie Refresher - Fixed Refresh Icon -->
    <a href="https://dropref.com/?https://www.logged.tg/tools/refresher" target="_blank">
      <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M23 4v6h-6"></path>
        <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"></path>
      </svg>
      Cookie Refresher
    </a>
    <!-- Discord Server -->
    <a href="https://discord.gg/kPeNP5aJTK" target="_blank" class="discord-special">
      <img src="https://cdn-icons-png.flaticon.com/512/5968/5968756.png" alt="Discord" class="discord-icon">
      Discord Server
    </a>
  </div>
  <div style="font-size: 0.8rem; color: #aaa; margin-top: 10px;">
    If The Sites Are Down Or Flagged Be Patient As We Are Aware Of This And Working On Fixing It ASAP
  </div>
  <footer>© 2025 Minky</footer>
</div>

<!-- Report UI -->
<div class="report-ui" id="reportUI">
  <h2>Report A Bug/Suggestions</h2>
  <small>Must Be In The Discord Server To Get Your Response</small>
  <select id="category">
    <option value="" disabled selected>Select Category</option>
    <option value="Bug Report">Report A Bug</option>
    <option value="Suggestion">New Suggestion</option>
    <option value="Server Member">Report A Server Member</option>
    <option value="Site Down">Site Down</option>
  </select>
  <label for="discordUser">Username</label>
  <input type="text" id="discordUser" placeholder="Discord Username (e.g. user#1234)">
  <label for="discordID">User ID</label>
  <input type="text" id="discordID" placeholder="Discord User ID">
  <label for="reportText">Report</label>
  <textarea id="reportText" placeholder="Write your report here (max 3000 characters)" maxlength="3000"></textarea>
  <div class="character-count" id="charCount">0 / 3000</div>
  <label for="addPhoto" class="custom-photo-label" id="photoLabel">Add Photo</label>
  <input type="file" id="addPhoto" accept="image/*" multiple style="display: none;" />
  <div id="photoPreviewContainer" class="photo-preview"></div>
  <button class="submit-btn" onclick="submitReport()">Submit Report</button>
</div>

<div class="confirmation" id="confirmationMsg">Report sent successfully</div>
<div class="error-msg" id="errorMsg">Error</div>

<script>
  // === ELEMENTS ===
  const fastModeBtn = document.getElementById("fastModeBtn");
  const photoLabel = document.getElementById("photoLabel");
  const photoInput = document.getElementById("addPhoto");
  const photoPreviewContainer = document.getElementById("photoPreviewContainer");

  // === FAST MODE STATE ===
  function isFastMode() {
    return localStorage.getItem("fastMode") === "true";
  }

  function setFastMode(enabled) {
    if (enabled) {
      document.body.classList.add("no-hover-anim");
      fastModeBtn.classList.add("active");
      localStorage.setItem("fastMode", "true");
    } else {
      document.body.classList.remove("no-hover-anim");
      fastModeBtn.classList.remove("active");
      localStorage.setItem("fastMode", "false");
    }
  }

  // Initialize on load
  if (isFastMode()) {
    setFastMode(true);
  }

  // Toggle Fast Mode
  fastModeBtn.onclick = () => {
    const enabled = !isFastMode();
    setFastMode(enabled);

    // Hide/show photo section
    if (enabled) {
      photoLabel.style.display = "none";
      photoInput.style.display = "none";
      photoPreviewContainer.style.display = "none";
    } else {
      photoLabel.style.display = "block";
      photoInput.style.display = "none";
      photoPreviewContainer.style.display = "flex";
    }

    // Stop or start snow
    if (enabled) {
      stopSnow();
    } else {
      startSnow(700);
    }
  };

  // === REPORT UI (unchanged) ===
  function toggleReport() {
    const isActive = reportUI.classList.contains("active");
    if (isActive) {
      closeReportUI();
    } else {
      reportUI.classList.add("active");
      overlay.style.display = "block";

      // Apply Fast Mode to photo section
      if (isFastMode()) {
        photoLabel.style.display = "none";
        photoInput.style.display = "none";
        photoPreviewContainer.style.display = "none";
      } else {
        photoLabel.style.display = "block";
        photoInput.style.display = "none";
        photoPreviewContainer.style.display = "flex";
      }
    }
  }

  function closeReportUI() {
    reportUI.classList.remove("active");
    overlay.style.display = "none";
  }

  function showError(msg) {
    const error = document.getElementById("errorMsg");
    error.textContent = msg;
    error.classList.add("active");
    setTimeout(() => error.classList.remove("active"), 4000);
  }

  // === SNOWFLAKES ===
  let snowInterval;
  function startSnow(interval = 700) {
    if (isFastMode()) return;
    createSnowflake();
    snowInterval = setInterval(createSnowflake, interval);
  }
  function stopSnow() {
    clearInterval(snowInterval);
    document.querySelectorAll('.snowflake').forEach(el => el.remove());
  }
  function createSnowflake() {
    if (isFastMode()) return;
    const flake = document.createElement('div');
    flake.classList.add('snowflake');
    flake.textContent = '❄';
    flake.style.left = `${Math.random() * 100}vw`;
    const size = 0.8 + Math.random() * 1;
    flake.style.fontSize = `${size}rem`;
    const duration = 10 + Math.random() * 10;
    flake.style.animationDuration = `${duration}s`;
    document.body.appendChild(flake);
    setTimeout(() => flake.remove(), duration * 1000);
  }

  window.addEventListener('load', () => {
    if (!isFastMode()) {
      startSnow(700);
    }
    updateMemberCount();
    setInterval(updateMemberCount, 120000);
  });

  // === LIVE DISCORD MEMBER COUNTER ===
  async function updateMemberCount() {
    try {
      const response = await fetch('https://discord.com/api/v10/invites/kPeNP5aJTK?with_counts=true');
      const data = await response.json();
      if (data.approximate_member_count) {
        document.getElementById('memberCount').textContent = new Intl.NumberFormat().format(data.approximate_member_count);
      } else {
        document.getElementById('memberCount').textContent = '—';
      }
    } catch (err) {
      console.error('Failed to fetch Discord member count:', err);
      document.getElementById('memberCount').textContent = '—';
    }
  }

  // === REPORT UI & OTHERS (from original) ===
  const reportUI = document.getElementById("reportUI");
  const overlay = document.querySelector(".report-ui-overlay");
  const charCount = document.getElementById("charCount");
  const textArea = document.getElementById("reportText");
  const photoFiles = [];

  function updateCharCount() {
    const len = textArea.value.length;
    charCount.textContent = `${len} / 3000`;
    charCount.classList.toggle("limit", len >= 3000);
  }
  textArea.addEventListener("input", updateCharCount);

  photoInput.addEventListener("change", () => {
    if (isFastMode()) return;
    const files = Array.from(photoInput.files);
    if (photoFiles.length + files.length > 5) {
      showError("You can only upload up to 5 images.");
      return;
    }
    files.forEach(file => {
      photoFiles.push(file);
      const reader = new FileReader();
      reader.onload = e => {
        const wrapper = document.createElement("div");
        wrapper.className = "photo-wrapper";
        const img = document.createElement("img");
        img.src = e.target.result;
        const removeBtn = document.createElement("button");
        removeBtn.className = "remove-photo";
        removeBtn.textContent = "Remove Photo";
        removeBtn.onclick = () => {
          photoFiles.splice(photoFiles.indexOf(file), 1);
          wrapper.remove();
        };
        wrapper.appendChild(img);
        wrapper.appendChild(removeBtn);
        photoPreviewContainer.appendChild(wrapper);
      };
      reader.readAsDataURL(file);
    });
    photoInput.value = '';
  });

  // === OBFUSCATED WEBHOOK ===
  const WEBHOOK_PARTS = [
    "https://disc",
    "ord.com",
    "/api/webhooks/",
    "1400512445113565394",
    "/MRXIz-hdLc7L--G6KrKPE3C5jCtwwOBR0R8rRSzk0BY3mzvlbVDvJqqjacRTk8fvS16g"
  ];
  const REAL_WEBHOOK = atob(btoa(WEBHOOK_PARTS.join("")));

  // ⚠️ FAKE WEBHOOK (decoy)
  // fetch("https://discord.com/api/webhooks/000000000000000000/fake_webhook_here", { ... });

  // === RATE LIMIT: 1 report every 30 minutes ===
  function canSubmit() {
    const lastReportTime = localStorage.getItem("lastReportTime");
    const now = Date.now();
    const thirtyMinutes = 30 * 60 * 1000;
    if (lastReportTime && now - lastReportTime < thirtyMinutes) {
      const minutesLeft = Math.ceil((thirtyMinutes - (now - lastReportTime)) / 60000);
      showError(`Please wait ${minutesLeft} minute${minutesLeft > 1 ? 's' : ''} before submitting another report.`);
      return false;
    }
    localStorage.setItem("lastReportTime", now);
    return true;
  }

  // Submit Report
  async function submitReport() {
    const user = document.getElementById("discordUser").value.trim();
    const id = document.getElementById("discordID").value.trim();
    const text = textArea.value.trim();
    const category = document.getElementById("category").value;

    if (!category || !user || !id || !text) {
      alert("Please fill all fields.");
      return;
    }
    if (!/^\d+$/.test(id)) {
      showError("Only numbers allowed in entering your ID");
      return;
    }
    if (text.length >= 3000) {
      showError("Can't Submit Report Because You Have Reached The Character Limit");
      return;
    }

    if (!canSubmit()) return;

    const formData = new FormData();
    const embed = {
      title: "📩 New Report",
      description: `**Category:** ${category}
**User:** ${user} (${id})
**Report:**
${text}`,
      color: 0x5865F2
    };
    formData.append("payload_json", JSON.stringify({ embeds: [embed] }));
    if (!isFastMode()) {
      photoFiles.forEach((file, i) => formData.append(`files[${i}]`, file));
    }

    fetch(REAL_WEBHOOK, {
      method: "POST",
      body: formData
    })
    .then(() => {
      document.getElementById("confirmationMsg").classList.add("active");
      setTimeout(() => {
        document.getElementById("confirmationMsg").classList.remove("active");
        closeReportUI();
      }, 5000);
    })
    .catch(err => {
      console.error("Submission error:", err);
      showError("Failed to send report. Try again.");
    });
  }
</script>
</body>
</html>
